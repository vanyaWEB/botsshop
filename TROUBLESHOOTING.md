# üîß –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

## –ß–∞—Å—Ç—ã–µ –æ—à–∏–±–∫–∏ –∏ –∏—Ö —Ä–µ—à–µ–Ω–∏—è

### 1. –ë–æ—Ç –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç

**–ü—Ä–æ–±–ª–µ–º–∞:** –ë–æ—Ç –Ω–µ —Ä–µ–∞–≥–∏—Ä—É–µ—Ç –Ω–∞ –∫–æ–º–∞–Ω–¥—ã

**–†–µ—à–µ–Ω–∏–µ:**
\`\`\`bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ç–æ–∫–µ–Ω –±–æ—Ç–∞
echo $BOT_TOKEN

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏
tail -f logs/bot.log

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞
python main.py
\`\`\`

### 2. –û—à–∏–±–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –ë–î

**–ü—Ä–æ–±–ª–µ–º–∞:** `connection refused` –∏–ª–∏ `could not connect to server`

**–†–µ—à–µ–Ω–∏–µ:**
\`\`\`bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ PostgreSQL
sudo systemctl status postgresql

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ DATABASE_URL
echo $DATABASE_URL

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ
psql $DATABASE_URL -c "SELECT 1"
\`\`\`

### 3. –ÆKassa –æ—à–∏–±–∫–∏

**–ü—Ä–æ–±–ª–µ–º–∞:** –ü–ª–∞—Ç–µ–∂–∏ –Ω–µ –ø—Ä–æ—Ö–æ–¥—è—Ç

**–†–µ—à–µ–Ω–∏–µ:**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `YOOKASSA_SHOP_ID` –∏ `YOOKASSA_SECRET_KEY`
- –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ä–µ–∂–∏–º (test/prod)
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ webhook URL –≤ –ª–∏—á–Ω–æ–º –∫–∞–±–∏–Ω–µ—Ç–µ –ÆKassa
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏: `tail -f logs/payment.log`

### 4. WebApp –Ω–µ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è

**–ü—Ä–æ–±–ª–µ–º–∞:** –ë–µ–ª—ã–π —ç–∫—Ä–∞–Ω –∏–ª–∏ –æ—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏

**–†–µ—à–µ–Ω–∏–µ:**
\`\`\`bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ WEBAPP_URL
echo $WEBAPP_URL

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Flask
curl http://localhost:8080/health

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏
tail -f logs/webapp.log
\`\`\`

### 5. –§–æ—Ç–æ –Ω–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è

**–ü—Ä–æ–±–ª–µ–º–∞:** –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è

**–†–µ—à–µ–Ω–∏–µ:**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ file_id –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
- –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –±–æ—Ç –∏–º–µ–µ—Ç –¥–æ—Å—Ç—É–ø –∫ —Ñ–∞–π–ª–∞–º
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–∑–º–µ—Ä —Ñ–∞–π–ª–æ–≤ (–º–∞–∫—Å 20MB)
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç (JPG, PNG)

### 6. –ú–µ–¥–ª–µ–Ω–Ω–∞—è —Ä–∞–±–æ—Ç–∞

**–ü—Ä–æ–±–ª–µ–º–∞:** –ë–æ—Ç –º–µ–¥–ª–µ–Ω–Ω–æ –æ—Ç–≤–µ—á–∞–µ—Ç

**–†–µ—à–µ–Ω–∏–µ:**
\`\`\`bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞–≥—Ä—É–∑–∫—É –Ω–∞ —Å–µ—Ä–≤–µ—Ä
htop

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –ë–î
SELECT count(*) FROM pg_stat_activity;

# –û–ø—Ç–∏–º–∏–∑–∏—Ä—É–π—Ç–µ –∑–∞–ø—Ä–æ—Å—ã
EXPLAIN ANALYZE SELECT * FROM products;

# –î–æ–±–∞–≤—å—Ç–µ –∏–Ω–¥–µ–∫—Å—ã
CREATE INDEX idx_products_category ON products(category_id);
\`\`\`

### 7. –û—à–∏–±–∫–∏ –º–∏–≥—Ä–∞—Ü–∏–π

**–ü—Ä–æ–±–ª–µ–º–∞:** Alembic –æ—à–∏–±–∫–∏ –ø—Ä–∏ –º–∏–≥—Ä–∞—Ü–∏–∏

**–†–µ—à–µ–Ω–∏–µ:**
\`\`\`bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ç–µ–∫—É—â—É—é –≤–µ—Ä—Å–∏—é
alembic current

# –û—Ç–∫–∞—Ç–∏—Ç–µ –ø–æ—Å–ª–µ–¥–Ω—é—é –º–∏–≥—Ä–∞—Ü–∏—é
alembic downgrade -1

# –ü—Ä–∏–º–µ–Ω–∏—Ç–µ –∑–∞–Ω–æ–≤–æ
alembic upgrade head

# –ï—Å–ª–∏ –Ω–µ –ø–æ–º–æ–≥–∞–µ—Ç - –ø–µ—Ä–µ—Å–æ–∑–¥–∞–π—Ç–µ –ë–î
dropdb dbname
createdb dbname
alembic upgrade head
\`\`\`

### 8. Railway –¥–µ–ø–ª–æ–π –æ—à–∏–±–∫–∏

**–ü—Ä–æ–±–ª–µ–º–∞:** –î–µ–ø–ª–æ–π –ø–∞–¥–∞–µ—Ç –Ω–∞ Railway

**–†–µ—à–µ–Ω–∏–µ:**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –≤ Railway dashboard
- –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –≤—Å–µ env –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `railway.json` –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `Dockerfile` –∏ `requirements.txt`

### 9. –ü–∞–º—è—Ç—å –∑–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è

**–ü—Ä–æ–±–ª–µ–º–∞:** Out of memory errors

**–†–µ—à–µ–Ω–∏–µ:**
\`\`\`bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏
free -h

# –û–ø—Ç–∏–º–∏–∑–∏—Ä—É–π—Ç–µ –∑–∞–ø—Ä–æ—Å—ã
# –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ pagination
# –ó–∞–∫—Ä—ã–≤–∞–π—Ç–µ —Å–µ—Å—Å–∏–∏ –ë–î

# –£–≤–µ–ª–∏—á—å—Ç–µ –ª–∏–º–∏—Ç—ã –≤ Railway
# Settings -> Resources -> Memory
\`\`\`

### 10. CORS –æ—à–∏–±–∫–∏

**–ü—Ä–æ–±–ª–µ–º–∞:** WebApp –Ω–µ –º–æ–∂–µ—Ç –æ–±—Ä–∞—â–∞—Ç—å—Å—è –∫ API

**–†–µ—à–µ–Ω–∏–µ:**
\`\`\`python
# –í webapp/app.py –¥–æ–±–∞–≤—å—Ç–µ:
from flask_cors import CORS
CORS(app, origins=[config.WEBAPP_URL])
\`\`\`

## –õ–æ–≥–∏ –∏ –æ—Ç–ª–∞–¥–∫–∞

### –í–∫–ª—é—á–∏—Ç—å debug —Ä–µ–∂–∏–º

\`\`\`python
# –í config.py
DEBUG = True
LOG_LEVEL = 'DEBUG'
\`\`\`

### –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤

\`\`\`bash
# –í—Å–µ –ª–æ–≥–∏
tail -f logs/*.log

# –¢–æ–ª—å–∫–æ –æ—à–∏–±–∫–∏
grep ERROR logs/*.log

# –ü–æ—Å–ª–µ–¥–Ω–∏–µ 100 —Å—Ç—Ä–æ–∫
tail -n 100 logs/bot.log
\`\`\`

### –û—Ç–ª–∞–¥–∫–∞ –≤ production

\`\`\`bash
# –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ Railway
railway run bash

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
env | grep BOT

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–æ—Ü–µ—Å—Å—ã
ps aux | grep python

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ—Ä—Ç—ã
netstat -tulpn
\`\`\`

## –ü–æ–ª—É—á–µ–Ω–∏–µ –ø–æ–º–æ—â–∏

–ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º–∞ –Ω–µ —Ä–µ—à–µ–Ω–∞:

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ [Issues](https://github.com/your-repo/issues)
2. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π Issue —Å:
   - –û–ø–∏—Å–∞–Ω–∏–µ–º –ø—Ä–æ–±–ª–µ–º—ã
   - –õ–æ–≥–∞–º–∏ –æ—à–∏–±–æ–∫
   - –®–∞–≥–∞–º–∏ –¥–ª—è –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è
   - –í–µ—Ä—Å–∏–µ–π Python –∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
3. –ù–∞–ø–∏—à–∏—Ç–µ –≤ –ø–æ–¥–¥–µ—Ä–∂–∫—É: support@example.com
